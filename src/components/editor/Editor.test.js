// todo: shallow rendering with snapshots